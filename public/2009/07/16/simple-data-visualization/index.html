<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Simple Data Visualization" />
<meta property="og:description" content="OK, so, I know I already raved about one Hadley Wickham project and how it has changed my life last week. But what can I say, the man is a genius. And if you are using R (and let&rsquo;s face it, you should be) and you want simple sexy graphs made quick, the man has you covered once again.
I first learned about ggplot2 while scanning through some slides of the LA Area RUG meetings (that I missed - I still haven&rsquo;t been to any!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2009/07/16/simple-data-visualization/" />
<meta property="article:published_time" content="2009-07-16T00:00:00+00:00" />
<meta property="article:modified_time" content="2009-07-16T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Simple Data Visualization"/>
<meta name="twitter:description" content="OK, so, I know I already raved about one Hadley Wickham project and how it has changed my life last week. But what can I say, the man is a genius. And if you are using R (and let&rsquo;s face it, you should be) and you want simple sexy graphs made quick, the man has you covered once again.
I first learned about ggplot2 while scanning through some slides of the LA Area RUG meetings (that I missed - I still haven&rsquo;t been to any!"/>


    <meta name="description" content="">
    <link rel="canonical" href="../../../../2009/07/16/simple-data-visualization/">

    
    <title>Simple Data Visualization &middot; I&#39;m a Chordata! Urochordata!</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="../../../../css/style.css" rel="stylesheet">

    

    

    
  </head>
  <body>
    
      



<nav class="white" role="navigation">
    <div class="row max-width">
        <div class="col s12 l10 offset-l1">
            
            <a href="#" data-target="nav-mobile" class="sidenav-trigger black-text">
                <i class="material-icons">menu</i>
            </a>

            
            <ul id="nav-mobile" class="sidenav">
                
                
    
    

            </ul>

            
            <a href="../../../../" class="brand-logo grey-text text-darken-3">I&#39;m a Chordata! Urochordata!</a>

            
            <div class="nav-wrapper">

                
                <ul class="right hide-on-med-and-down">
                    
                    
    
    

                </ul>

            </div>
        </div>
    </div>
</nav>
    

    

<article class="max-width">
    
    <section class="row">
        <div class="col s12 m10 offset-m1 l10 offset-l1">
            <h1>Simple Data Visualization</h1>
        </div>
    </section>

    
    

    
    <section class="row">
        <div class="col s12 m8 offset-m2 l2 offset-l1">
            

<p class="article-meta">
    <div class="article-meta-container">
        <div class="article-meta-author-name">Jarrett Byrnes</div>
        <div class="article-meta-description"></div>
    </div>
    <span class="article-meta-published-at grey-text text-darken-1">Jul 16, 2009</span>
</p>
        </div>
        <div class="col s12 m8 offset-m2 l6">
            <p><img src="http://had.co.nz/images/spot.gif" alt="">OK, so, I know I already raved about one <a href="http://had.co.nz/plyr">Hadley Wickham project</a> and how it has changed my life last week.  But what can I say, the man is a genius.  And if you are using <a href="http://www.r-project.org">R</a> (and let&rsquo;s face it, you should be) and you want simple sexy graphs made quick, the man has you covered once again.</p>
<p>I first learned about <a href="http://had.co.nz/ggplot2">ggplot2</a> while scanning through some <a href="http://www.slideshare.net/guest43ed8709/la-r-users-group-survey-of-r-graphics">slides</a> of the <a href="http://www.meetup.com/LAarea-R-usergroup/">LA Area RUG</a> meetings (that I missed - I still haven&rsquo;t been to any!) by the folks from <a href="http://dataspora.com/blog/">Michael Driscoll</a>.</p>
<p>And I liked what I saw - ggplot2 and lattice (which I admit, I had kind of avoided) seemed more intuitive than I thought.  Then I ran into a series of articles on ggplot2 from the <a href="http://en.wordpress.com/tag/ggplot2/">Learning R blog</a> and I was hooked.  Still am.  And why I ask?</p>
<p>Let&rsquo;s consider a task - you have some data split into four groups.  For each group, you want to plot a fitted regression between two covariates.  You want this split into panels, with common scales, and nicely placed axis labels.  Also, you want it to be purty.  While you can do this with the standard graphics package (and, I admit, I sometimes like the austerity of the standard graphics), it would take a for loop, tons of formatting instructions, and a number of steps where you could easily mess the whole thing up.  Not to mention that you might have to change a good bit if you want to add another group.</p>
<p>Here is how easy it is with ggplot2.  Note, there are only two lines of actual graphing code.  The rest is just making up the data.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(ggplot2)

<span style="color:#75715e">#create data - x is a predictor, g is a group, y is the response</span>
x<span style="color:#f92672">&lt;-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">100</span>
g<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">as.factor</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#e6db74">&#34;B&#34;</span>, <span style="color:#e6db74">&#34;C&#34;</span>, <span style="color:#e6db74">&#34;D&#34;</span>))

<span style="color:#75715e">#i love expand grid, as it easily creates full</span>
<span style="color:#75715e">#matrices of all combinations of multiple variables</span>
z<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">expand.grid</span>(x<span style="color:#f92672">=</span>x,g<span style="color:#f92672">=</span>g))

<span style="color:#75715e">#add a little error in to our results</span>
z<span style="color:#f92672">$</span>y<span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rnorm</span>(<span style="color:#a6e22e">length</span>(z<span style="color:#f92672">$</span>x),z<span style="color:#f92672">$</span>x<span style="color:#f92672">*</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">29</span>, <span style="color:#ae81ff">50</span>)<span style="color:#a6e22e">[unclass</span>(z<span style="color:#f92672">$</span>g)]<span style="color:#ae81ff">+5</span>, sd<span style="color:#f92672">=</span><span style="color:#ae81ff">200</span>)

<span style="color:#75715e">#this first bit just sets up the basic plotting, with colors and panels</span>
a<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">qplot</span>(x,y,group<span style="color:#f92672">=</span>g, colour<span style="color:#f92672">=</span>g, data<span style="color:#f92672">=</span>z, facets<span style="color:#f92672">=~</span>g)

<span style="color:#75715e">#now, add a fitted line with the error around it shown.</span>
<span style="color:#75715e"># Also, change the theme.  And plot the whole thing!</span>
a<span style="color:#f92672">+</span><span style="color:#a6e22e">stat_smooth</span>(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lm&#34;</span>, se<span style="color:#f92672">=</span>T, group<span style="color:#f92672">=</span>g, fill<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;black&#34;</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">theme_bw</span>()
</code></pre></div><p>All of which yields the following pretty figure:</p>
<p><img src="http://www.imachordata.com/wp-content/uploads/2009/07/picture-4.png" alt="Nice, eh?"></p>
<p>And that stat_smooth statement can take lots of other arguments - e.g., glms (I&rsquo;ve tried, and it looks great!)</p>
<p>So check it out - even for just casual data exploration, there&rsquo;s some real clarity to be found.  And I look forward to trying out other products by Prof. Wickham!</p>

        </div>
    </section>
</article>



    
      <footer class="page-footer grey lighten-5">
    <div class="row max-width">
        <div class="col s12 l10 offset-l1 clear-padding">
            <div class="row">
    
        
    

    
    
    <div class="col s12 l12">
        <h5 class="black-text">Footer Content</h5>
<p class="grey-text text-darken-4">You can use rows and columns here to organize your footer content.</p>
    </div>

    
</div>


        </div>
    </div>
    <div class="footer-copyright">
        <div class="row max-width" style="width: 100%;">
            <div class="col s12 l10 offset-l1">
                <span class="grey-text text-darken-4"></span>
<div class="right">
    
</div>
            </div>
        </div>
    </div>
</footer>
    

    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="../../../../js/script.js"></script>
  </body>
</html>