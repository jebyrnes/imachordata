<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Huabing Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="//img/home-bg-jeep.jpg">
    <meta property="twitter:image" content="//img/home-bg-jeep.jpg" />
    

    
    <meta name="title" content="MEOW! It&#39;s Marine Ecoregions in R!" />
    <meta property="og:title" content="MEOW! It&#39;s Marine Ecoregions in R!" />
    <meta property="twitter:title" content="MEOW! It&#39;s Marine Ecoregions in R!" />
    

    
    <meta name="description" content="赵化冰，程序员, 开源爱好者，生活探险家 | 这里是 赵化冰 的博客，与你一起发现更大的世界。">
    <meta property="og:description" content="赵化冰，程序员, 开源爱好者，生活探险家 | 这里是 赵化冰 的博客，与你一起发现更大的世界。" />
    <meta property="twitter:description" content="赵化冰，程序员, 开源爱好者，生活探险家 | 这里是 赵化冰 的博客，与你一起发现更大的世界。" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="赵化冰, zhaohuabing, Zhaohuabing, , 赵化冰的网络日志, 赵化冰的博客, Zhaohuabing Blog, 博客, 个人网站, 互联网, Web, 云原生, PaaS, Istio, Kubernetes, 微服务, Microservice">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>MEOW! It&#39;s Marine Ecoregions in R!-赵化冰的博客 | Zhaohuabing Blog</title>

    <link rel="canonical" href="/post/meow-its-marine-ecoregions-in-r-2/">

    <link rel="stylesheet" href="/css/iDisqus.min.css"/>
	
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    
    <link rel="stylesheet" href="/css/syntax.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    
    
    <script src="/js/jquery.min.js"></script>
    
    
    <script src="/js/bootstrap.min.js"></script>
    
    
    <script src="/js/hux-blog.min.js"></script>
	
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/docco.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>


<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Huabing Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/categories/#scifund">#scifund</a>
                    </li>
                    
                    <li>
                        <a href="/categories/announcements">announcements</a>
                    </li>
                    
                    <li>
                        <a href="/categories/ascidians">ascidians</a>
                    </li>
                    
                    <li>
                        <a href="/categories/blog">blog</a>
                    </li>
                    
                    <li>
                        <a href="/categories/climate-change">climate-change</a>
                    </li>
                    
                    <li>
                        <a href="/categories/feedback">feedback</a>
                    </li>
                    
                    <li>
                        <a href="/categories/field-notes">field-notes</a>
                    </li>
                    
                    <li>
                        <a href="/categories/food-web-networks-and-extinctions">food-web-networks-and-extinctions</a>
                    </li>
                    
                    <li>
                        <a href="/categories/howto">howto</a>
                    </li>
                    
                    <li>
                        <a href="/categories/linkage">linkage</a>
                    </li>
                    
                    <li>
                        <a href="/categories/meetings">meetings</a>
                    </li>
                    
                    <li>
                        <a href="/categories/neat">neat</a>
                    </li>
                    
                    <li>
                        <a href="/categories/networks">networks</a>
                    </li>
                    
                    <li>
                        <a href="/categories/openpub">openpub</a>
                    </li>
                    
                    <li>
                        <a href="/categories/paper-review">paper-review</a>
                    </li>
                    
                    <li>
                        <a href="/categories/professional-musings">professional-musings</a>
                    </li>
                    
                    <li>
                        <a href="/categories/publishing">publishing</a>
                    </li>
                    
                    <li>
                        <a href="/categories/r">r</a>
                    </li>
                    
                    <li>
                        <a href="/categories/rantish">rantish</a>
                    </li>
                    
                    <li>
                        <a href="/categories/research">research</a>
                    </li>
                    
                    <li>
                        <a href="/categories/science">science</a>
                    </li>
                    
                    <li>
                        <a href="/categories/science-music-videos">science-music-videos</a>
                    </li>
                    
                    <li>
                        <a href="/categories/science-online">science-online</a>
                    </li>
                    
                    <li>
                        <a href="/categories/science-parent">science-parent</a>
                    </li>
                    
                    <li>
                        <a href="/categories/sem">sem</a>
                    </li>
                    
                    <li>
                        <a href="/categories/shout-out">shout-out</a>
                    </li>
                    
                    <li>
                        <a href="/categories/silly">silly</a>
                    </li>
                    
                    <li>
                        <a href="/categories/statistics">statistics</a>
                    </li>
                    
                    <li>
                        <a href="/categories/talks">talks</a>
                    </li>
                    
                    <li>
                        <a href="/categories/tunicate-culinary-adventures">tunicate-culinary-adventures</a>
                    </li>
                    
                    
		    
                        <li><a href="/top/books/">BOOKS</a></li>
                    
                        <li><a href="/top/about/">ABOUT</a></li>
                    

                    
		    <li>
                        <a href="/search">SEARCH <img src="/img/search.png" height="15" style="cursor: pointer;" alt="Search"></a>
		    </li>
                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/img/home-bg-jeep.jpg')
    }
</style>
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                    </div>
                    <h1>MEOW! It&#39;s Marine Ecoregions in R!</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
			Posted by 
			
			    Jarrett Byrnes
			 
			on 
			Saturday, March 28, 2015
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <header>
                    <h2>TOC</h2>
                </header>
                
                
                <p>So, I&rsquo;m on paternity leave (yay! more on that another day - but HOMG, you guys, my daughter is amazing!) and while my daughter is amazing, there are many hours in the day and wee morning where I find myself rocking slowly back and forth, knowing that if I stop even for a second, this little bundle of cute sleeping away in the wrap will wake and howl.</p>

<p>So, what&rsquo;s a guy on leave to do? Well, why not learn some new R tricks that have been on my list for, in some cases years, but I have not had time to do otherwise. In particular, time to ramp up some of my geospatial skills. As, really, I can type while rocking. And need to do something to stay awake. (One can only watch Clone Wars for so long - and why is it so much better than the prequels?)</p>

<p>In particular, I&rsquo;ve really wanted to become a more proficient map-maker. I&rsquo;ve been working on a few global projects lately, and wanted to visualize the results in some more powerful intuitive ways. Many of these projects have used Spalding et al.&rsquo;s 2007 <em><a href="http://www.nature.org/ourinitiatives/regions/northamerica/unitedstates/colorado/scienceandstrategy/marine-ecoregions-of-the-world.pdf">Marine Ecoregions of the World</a></em> classification (or MEOW) as a basis. So, wouldn&rsquo;t it be cool if we could make some nice plots of those regions, and maybe fill them in with colors according to some result?</p>

<p>Where to start? Well, to begin, how does one get the geographic information in to R? Fortunately, there&rsquo;s a shapefile over <a href="http://www.marineregions.org/downloads.php">at Marineregions.org</a>.</p>

<p>Actually, heck, there are a LOT of marine region-like shapefiles over there that we might all want to use for different maps. And everything I&rsquo;m about to say can generalize to any of those other shapefiles!</p>

<p>Oh, for those of you as ignorant as me, a <a href="http://en.wikipedia.org/wiki/Shapefile">shapefile</a> is a geospatial file that has information about polygons with some additional data attached to them. To futz with them, we need to first load a few R libraries</p>

<pre><code class="language-r">#for geospatial tools
library(rgdal)
library(maptools)
library(rgeos)

#for some data reduction
library(dplyr)
</code></pre>

<p>These are wonderful tools that will help you load and manipulate your shapefiles. Note that I&rsquo;ve also loaded up <a href="http://cran.r-project.org/web/packages/dplyr/index.html">dplyr</a>, which I&rsquo;ve been playing with and finally learning. I&rsquo;m a huge fan of ye olde <a href="http://plyr.had.co.nz/">plyr</a> library, but dplyr has really upped my game, as it&rsquo;s weirdly more intuitive - particularly with pipes. For a tutotrial on that, see <a href="http://seananderson.ca/2014/09/13/dplyr-intro.html">here</a> - and perhaps I&rsquo;ll write more about it later.</p>

<p>OK, so, libraries aside, how do we deal with the file we get <a href="http://www.marineregions.org/downloads.php">at Marineregions.org</a>? Well, once we download and unzip it into a folder, we can take a look at what&rsquo;s inside</p>

<pre><code class="language-r">#Let's see what's in this shapefile!
#Note - the paths here are relative to where I
#am working in this file - you may have to change them
ogrInfo(&quot;../../MEOW-TNC&quot;, &quot;meow_ecos&quot;)

## Source: &quot;../../MEOW-TNC&quot;, layer: &quot;meow_ecos&quot;
## Driver: ESRI Shapefile number of rows 232
## Feature type: wkbPolygon with 2 dimensions
## Extent: (-180 -89.9) - (180 86.9194)
## CRS: +proj=longlat +datum=WGS84 +no_defs
## LDID: 87
## Number of fields: 9
##         name type length typeName
## 1   ECO_CODE    2     19     Real
## 2  ECOREGION    4     50   String
## 3  PROV_CODE    2     19     Real
## 4   PROVINCE    4     40   String
## 5   RLM_CODE    2     19     Real
## 6      REALM    4     40   String
## 7   ALT_CODE    2     19     Real
## 8 ECO_CODE_X    2     19     Real
## 9   Lat_Zone    4     10   String
</code></pre>

<p>OK, cool! We can see that it&rsquo;s an ESRI shapefile with 232 rows - that&rsquo;s 232 ecoregions. Each row of data has a number of properties - Province, Realm (which are both higher order geospatial classifications), some numeric IDs, and information about latitudinal zone. We can also see that it&rsquo;s in the WGS84 projection - more on projections another time - and that it&rsquo;s chocked full of polygons.</p>

<p>OK, that&rsquo;s all well and good, but let&rsquo;s load and plot the sucker!</p>

<pre><code class="language-r">#get an ecoregions shapefile, and from that make a provience and realm shapefile
#from http://www.marineregions.org/downloads.php
#http://www.marineregions.org/sources.php#meow
regions &lt;- readOGR(&quot;../../MEOW-TNC&quot;, &quot;meow_ecos&quot;)

## OGR data source with driver: ESRI Shapefile
## Source: &quot;../../MEOW-TNC&quot;, layer: &quot;meow_ecos&quot;
## with 232 features and 9 fields
## Feature type: wkbPolygon with 2 dimensions

plot(regions)
</code></pre>

<p><img src="http://www.imachordata.com/wp-content/uploads/2015/03/unnamed-chunk-3-1.png" alt="unnamed-chunk-3-1" /></p>

<p>WHOAH! Cool. Regions! In the ocean! Nice! What a beautiful simple little plot. Again, well and good. But&hellip;..what can we do with this? Well, a quick call to <em>class</em> shows us that regions is a <em>SpatialPolygonsDataFrame</em>. Which of course has it&rsquo;s own plotting methods, and such. So, you could fill some things, make some borders, overlay - the sky&rsquo;s the limit. But, there are two things I want to show you how to do to make your life more flexible.</p>

<p><strong>Higher Order Geographic Regions</strong></p>

<p>One might be to look at Provinces and Realms. In general, when you have shapefiles, if you want to make aggregted polygons, you have to go through a few steps. Let&rsquo;s say we want to look at Provinces. A province is composed of many ecoregions. Fortunately, there&rsquo;s a function to unite <em>SpatialPolygons</em> (that&rsquo;s the class we&rsquo;re dealing with here that&rsquo;s part of the SpatialPolygonsDataFrame) given some identifier.</p>

<pre><code class="language-r">#Unite the spatial polygons for each region into one
provinces &lt;- unionSpatialPolygons(regions, regions$PROVINCE)
</code></pre>

<p>OK, great. But we still need to add some data to that. This provinces is just a SpatialPolygons object. To do that, let&rsquo;s make a new reduced data frame using dplyr.</p>

<pre><code class="language-r">#Make a data frame that will have Province level info and above
prov_data &lt;- regions@data %&gt;%
  group_by(PROVINCE) %&gt;%
  summarise(PROV_CODE = PROV_CODE[1], REALM = REALM[1], RLM_CODE=RLM_CODE[1], Lat_Zone=Lat_Zone[1])
</code></pre>

<p>Bueno. We now have a much smaller data frame that is for Provinces only. The last step is to make a new Spatial Polygons Data Frame by joining the data and the polygons. There are two tricks here. First, make sure the right rows in the data are joined to the right polygons. For that, we&rsquo;ll use a join statement. The second, the new data frame has to have row names matching the names of the polygons. I don&rsquo;t often use this, but in making a data frame, you can supply row names. So, here we go:</p>

<pre><code class="language-r">#merge the polygons with the new data file
#note the row.names argument to make sure they map to each other
provinces &lt;- SpatialPolygonsDataFrame(provinces,
                                      data=data.frame(
                                        join(data.frame(PROVINCE=names(provinces)),
                                             prov_data),
                                        row.names=row.names(provinces)))

## Joining by: PROVINCE
</code></pre>

<p>Not gorgeous, but it gets the job done. We can of course do this for realms as well.</p>

<pre><code class="language-r">#######
#make realms shapefile
########
#make spatial polygons for realms
realms &lt;- unionSpatialPolygons(regions, regions$REALM)

#make new data
realm_data &lt;- regions@data %&gt;%
  group_by(REALM) %&gt;%
  summarise(RLM_CODE = RLM_CODE[1],  Lat_Zone=Lat_Zone[1])

#merge the two!
realms &lt;- SpatialPolygonsDataFrame(realms,
                                   data=data.frame(
                                     join(data.frame(REALM=names(realms)),
                                          realm_data),
                                     row.names=row.names(realms)))

## Joining by: REALM
</code></pre>

<p>Excellent. So - did it work? And how different are these three different spatial things anyway? Well, let&rsquo;s plot them!</p>

<pre><code class="language-r">#########Plot them all
par(mfrow=c(2,2), mar=c(0,0,0,0))
plot(regions, main=&quot;Ecoregion&quot;, cex.main=5)
plot(provinces, lwd=2, border=&quot;red&quot;, main=&quot;Province&quot;)
plot(realms, lwd=2, border=&quot;blue&quot;, main=&quot;Realm&quot;)
par(mfrow=c(1,1))
</code></pre>

<p><img src="http://www.imachordata.com/wp-content/uploads/2015/03/unnamed-chunk-8-1.png" alt="unnamed-chunk-8-1" /></p>

<p>Lovely.</p>

<p><strong>ggplot &lsquo;em!</strong> I admit, I&rsquo;m a [ggplot2][9] junkie. I just find it the fastest way to make publication quality graphs with little fuss or muss. Or make something quick and dirty to send to colleagues. But, you can&rsquo;t just go and plot a SpatialPointsDataFrame in ggplot2 with ease and then use it as you will. So what&rsquo;s a guy to do?</p>

<p>I will admit, I&rsquo;m shamelessly gacking the following from <a href="http://www.imachordata.com/wp-content/uploads/2015/03/unnamed-chunk-13-2.png"><a href="https://github.com/hadley/ggplot2/wiki/plotting-polygon-shapefiles">https://github.com/hadley/ggplot2/wiki/plotting-polygon-shapefiles</a></a>. It provides a three step process where what you do, essentially, is turn the whole mess into a data frame with the polygons providing points for plotting geom_path or geom_polygon pieces.</p>

<p>Step 1, you need an ID column in your data. Let&rsquo;s do this for both ecoregions and provinces</p>

<pre><code class="language-r">regions@data$id = rownames(regions@data)
provinces@data$id = rownames(provinces@data)
</code></pre>

<p>OK - step 2 is the fortify function. Fortify converts an R object into a data frame for ggplot2. In this case -</p>

<pre><code class="language-r">library(ggplot2)
regions.points = fortify(regions, ECOREGION=&quot;id&quot;)

## Regions defined for each Polygons

provinces.points = fortify(provinces, PROVINCES=&quot;id&quot;)

## Regions defined for each Polygons
</code></pre>

<p>Great! Now that we have these two knew fortified data frames that describe the points that we&rsquo;ll be plotting, the last thing to do is to join the points with the actual, you know, data! For that, I like to use <em>join</em>:</p>

<pre><code class="language-r">regions.df = join(regions.points, regions@data, by=&quot;id&quot;)
provinces.df = join(provinces.points, provinces@data, by=&quot;id&quot;)
</code></pre>

<p>What&rsquo;s great about this is that, from now on, if I have another data frame of some sort that has a Ecoregion or Province as one of it&rsquo;s headings - for example, let&rsquo;s say I ran a linear model where Ecoregion was a fixed effect, I have a coefficient for each Ecoregion, and I&rsquo;ve turned the coefficient table into a data frame with Ecoregion as one of the columns - as long as the name of the identifying column in my new data frame and my data frame for plotting are the same, I can use join to add a new column to my <em>regions.df</em> or <em>provinces.df</em> for plotting.</p>

<p>But, for now, I can show you how these would plot out in ggplot2. To do this, we use geom_polygon to define an area that we can fill as we want, and geom_path to stroke the outside of the areas and do with them what you will.</p>

<pre><code class="language-r">#####Make some ggplots for later visualization
base_ecoregion_ggplot &lt;- ggplot(regions.df) + theme_bw() +
  aes(long,lat,group=group) +
  geom_polygon(fill=NA) +
  geom_path(color=&quot;black&quot;) +
  coord_equal()

base_province_ggplot &lt;- ggplot(provinces.df) + theme_bw() +
  aes(long,lat,group=group) +
  geom_polygon(fill=NA) +
  geom_path(color=&quot;black&quot;) +
  coord_equal()
</code></pre>

<p>Note that there&rsquo;s a fill=NA argument? That&rsquo;s where I could put something like coefficient from that joined data, or temperature, or whatever I&rsquo;ve tacked on to the whole shebang. Let&rsquo;s see what they look like in ggplot2.</p>

<pre><code class="language-r">base_ecoregion_ggplot + ggtitle(&quot;Ecoregions&quot;)
</code></pre>

<p><img src="http://www.imachordata.com/wp-content/uploads/2015/03/unnamed-chunk-13-1.png" alt="unnamed-chunk-13-1" /></p>

<pre><code class="language-r">base_province_ggplot + ggtitle(&quot;Provinces&quot;)
</code></pre>

<p><img src="http://www.imachordata.com/wp-content/uploads/2015/03/unnamed-chunk-13-2.png" alt="unnamed-chunk-13-2" /></p>

<p>So what&rsquo;s the advantage of putting them into ggplot? Well, besides using all of the graphical aestehtics for your polygon fills and paths, you can add points (say, sites), lines, or whatnot. One example could be, let&rsquo;s say you wanted to visualize the borders of land (and countries!) on the map with ecoregions. Cool! Let&rsquo;s get the worldmap, turn it into a data frame, and then add a geom_path with the world map on it.</p>

<pre><code class="language-r">library(maps)
worldmap &lt;- map('world', plot=F)
worldmap.df &lt;- data.frame(longitude =worldmap$x,latitude=worldmap$y)

base_province_ggplot+
  geom_path(data=worldmap.df, aes(x=longitude, y=latitude, group=NULL), color=&quot;darkgreen&quot;)
</code></pre>

<p><img src="http://www.imachordata.com/wp-content/uploads/2015/03/unnamed-chunk-14-1.png" alt="unnamed-chunk-14-1" /></p>

<p>The possibilities really are endless at this point for cool visualizations.</p>

<p><em>EDIT</em> - OK, here&rsquo;s a cool example with filled polygons using a random &lsquo;score&rsquo; to determine fill and RColorBrewer for pretty colors!</p>

<pre><code class="language-r">#let's make some fancy colors
library(RColorBrewer)

#Make a data frame with Ecoregion as an identifier
thing &lt;- data.frame(ECOREGION = regions$ECOREGION,
                    score = runif(nrow(regions), -100, 100))

#merge the score data with the regions data frame
regions.df2 &lt;- merge(regions.df, thing)

#plot!
ggplot(regions.df2) + theme_bw() +
       aes(long,lat,group=group) +
       geom_polygon(mapping=aes(fill=score)) +
       geom_path(color=&quot;black&quot;) +
       coord_equal() +
       scale_fill_gradientn(colours=brewer.pal(11, &quot;Spectral&quot;))
</code></pre>

<p><img src="http://www.imachordata.com/wp-content/uploads/2015/03/Screen-Shot-2015-03-28-at-11.38.02-AM-1024x587.jpg" alt="Screen Shot 2015-03-28 at 11.38.02 AM" /></p>

<p>Next time, Leaflet! If I can figure out how to post it&rsquo;s output. And for those of you who don&rsquo;t know leaflet, prepare to be wowed.</p>

<p>Also, all code for this example is in a <a href="https://gist.github.com/jebyrnes/0030715178ba77264268">gist over here</a>!</p>


                
                
<div class="entry-shang text-center">
    
	    <p>「真诚赞赏，手留余香」</p>
	
	<button class="zs show-zs btn btn-bred">赞赏支持</button>
</div>
<div class="zs-modal-bg"></div>
<div class="zs-modal-box">
	<div class="zs-modal-head">
		<button type="button" class="close">×</button>
		<span class="author"><a href="/"><img src="/img/favicon.png" />Huabing Blog</a></span>
        
	        <p class="tip"><i></i><span>真诚赞赏，手留余香</span></p>
		
 
	</div>
	<div class="zs-modal-body">
		<div class="zs-modal-btns">
			<button class="btn btn-blink" data-num="2">2元</button>
			<button class="btn btn-blink" data-num="5">5元</button>
			<button class="btn btn-blink" data-num="10">10元</button>
			<button class="btn btn-blink" data-num="50">50元</button>
			<button class="btn btn-blink" data-num="100">100元</button>
			<button class="btn btn-blink" data-num="1">任意金额</button>
		</div>
		<div class="zs-modal-pay">
			<button class="btn btn-bred" id="pay-text">2元</button>
			<p>使用<span id="pay-type">微信</span>扫描二维码完成支付</p>
			<img src="/img/reward/wechat-2.png"  id="pay-image"/>
		</div>
	</div>
	<div class="zs-modal-footer">
		<label><input type="radio" name="zs-type" value="wechat" class="zs-type" checked="checked"><span ><span class="zs-wechat"><img src="/img/reward/wechat-btn.png"/></span></label>
		<label><input type="radio" name="zs-type" value="alipay" class="zs-type" class="zs-alipay"><img src="/img/reward/alipay-btn.png"/></span></label>
	</div>
</div>
<script type="text/javascript" src="/js/reward.js"></script>

                

                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/space-and-sems-2/" data-toggle="tooltip" data-placement="top" title="Space and SEMs">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/spicier-analyses-with-interactive-r-leaflet-maps/" data-toggle="tooltip" data-placement="top" title="Spicier Analyses with Interactive R Leaflet Maps">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>

                
<div id="disqus-comment"></div>



            </div>
            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        
                        
                        <a href="/tags/ascidian" title="ascidian">
                            ascidian
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/blog" title="blog">
                            blog
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/climate-change" title="climate-change">
                            climate-change
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/experiment" title="experiment">
                            experiment
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/food-web" title="food-web">
                            food-web
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/ggplot2" title="ggplot2">
                            ggplot2
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/kelp-forest" title="kelp-forest">
                            kelp-forest
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/power-analysis" title="power-analysis">
                            power-analysis
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/r" title="r">
                            r
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/rb-editor-selection" title="rb-editor-selection">
                            rb-editor-selection
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/sea-squirt" title="sea-squirt">
                            sea-squirt
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/statistics" title="statistics">
                            statistics
                        </a>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/tunicate" title="tunicate">
                            tunicate
                        </a>
                        
                        
                        
                        <a href="/tags/urchins" title="urchins">
                            urchins
                        </a>
                        
                        
                    </div>
                </section>
                

                
                
                <section>
                    <hr>
                    <h5>FRIENDS</h5>
                    <ul class="list-inline">
                        
                        <li><a target="_blank" href="https://zhaozhihan.com">Linda的博客</a></li>
                        
                    </ul>
                </section>
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                   <li>
                       <a href="" rel="alternate" type="application/rss+xml" title="Huabing Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fa fa-circle fa-stack-2x"></i>
                               <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
                   
                    
                    <li>
                        <a href="mailto:youremail@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    
                    

                    

		    
                    
                    <li>
                        <a target="_blank" href="/your%20wechat%20qr%20code%20image">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-wechat fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    <li>
                        <a target="_blank" href="https://github.com/yourgithub">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                </ul>
		<p class="copyright text-muted">
                    Copyright &copy; Huabing Blog 2019
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    async("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






</body>
</html>
